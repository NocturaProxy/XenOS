"use strict";var ae=Object.create;var W=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var ce=Object.getOwnPropertyNames;var fe=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var C=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var ue=(a,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ce(e))!de.call(a,r)&&r!==t&&W(a,r,{get:()=>e[r],enumerable:!(n=le(e,r))||n.enumerable});return a};var M=(a,e,t)=>(t=a!=null?ae(fe(a)):{},ue(e||!a||!a.__esModule?W(t,"default",{value:a,enumerable:!0}):t,a));var J=C((T,N)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.default=void 0;function B(a){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(a)}var I=47,X=46,pe=function(e){var t=B(e);if(t!=="string")throw new TypeError("Expected a string, got a ".concat(t))},he=function(e,t){for(var n="",r=0,i=-1,s=0,l,o=0;o<=e.length;++o){if(o<e.length)l=e.charCodeAt(o);else{if(l===I)break;l=I}if(l===I){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==X||n.charCodeAt(n.length-2)!==X){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=o,s=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else l===X&&s!==-1?++s:s=-1}return n},ye=function(e){try{return decodeURIComponent(e)}catch{return e}},me=function(e){pe(e);var t=e;if(t.length===0)return".";var n=t.charCodeAt(0)===I,r=t.charCodeAt(t.length-1)===I;return t=ye(t),t=he(t,!n),t.length===0&&!n&&(t="."),t.length>0&&r&&(t+="/"),n?"/"+t:t},ge=me;T.default=ge;N.exports=T.default});var F=C((ke,G)=>{"use strict";function A(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function V(a,e){for(var t="",n=0,r=-1,i=0,s,l=0;l<=a.length;++l){if(l<a.length)s=a.charCodeAt(l);else{if(s===47)break;s=47}if(s===47){if(!(r===l-1||i===1))if(r!==l-1&&i===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var o=t.lastIndexOf("/");if(o!==t.length-1){o===-1?(t="",n=0):(t=t.slice(0,o),n=t.length-1-t.lastIndexOf("/")),r=l,i=0;continue}}else if(t.length===2||t.length===1){t="",n=0,r=l,i=0;continue}}e&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+a.slice(r+1,l):t=a.slice(r+1,l),n=l-r-1;r=l,i=0}else s===46&&i!==-1?++i:i=-1}return t}function we(a,e){var t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+n:t+a+n:n}var z={resolve:function(){for(var e="",t=!1,n,r=arguments.length-1;r>=-1&&!t;r--){var i;r>=0?i=arguments[r]:(n===void 0&&(n=process.cwd()),i=n),A(i),i.length!==0&&(e=i+"/"+e,t=i.charCodeAt(0)===47)}return e=V(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(A(e),e.length===0)return".";var t=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=V(e,!t),e.length===0&&!t&&(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return A(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];A(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":z.normalize(e)},relative:function(e,t){if(A(e),A(t),e===t||(e=z.resolve(e),t=z.resolve(t),e===t))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var r=e.length,i=r-n,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var l=t.length,o=l-s,f=i<o?i:o,d=-1,c=0;c<=f;++c){if(c===f){if(o>f){if(t.charCodeAt(s+c)===47)return t.slice(s+c+1);if(c===0)return t.slice(s+c)}else i>f&&(e.charCodeAt(n+c)===47?d=c:c===0&&(d=0));break}var p=e.charCodeAt(n+c),m=t.charCodeAt(s+c);if(p!==m)break;p===47&&(d=c)}var y="";for(c=n+d+1;c<=r;++c)(c===r||e.charCodeAt(c)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+t.slice(s+d):(s+=d,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(A(e),e.length===0)return".";for(var t=e.charCodeAt(0),n=t===47,r=-1,i=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!i){r=s;break}}else i=!1;return r===-1?n?"/":".":n&&r===1?"//":e.slice(0,r)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');A(e);var n=0,r=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,o=-1;for(s=e.length-1;s>=0;--s){var f=e.charCodeAt(s);if(f===47){if(!i){n=s+1;break}}else o===-1&&(i=!1,o=s+1),l>=0&&(f===t.charCodeAt(l)?--l===-1&&(r=s):(l=-1,r=o))}return n===r?r=o:r===-1&&(r=e.length),e.slice(n,r)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":e.slice(n,r)}},extname:function(e){A(e);for(var t=-1,n=0,r=-1,i=!0,s=0,l=e.length-1;l>=0;--l){var o=e.charCodeAt(l);if(o===47){if(!i){n=l+1;break}continue}r===-1&&(i=!1,r=l+1),o===46?t===-1?t=l:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||r===-1||s===0||s===1&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return we("/",e)},parse:function(e){A(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var n=e.charCodeAt(0),r=n===47,i;r?(t.root="/",i=1):i=0;for(var s=-1,l=0,o=-1,f=!0,d=e.length-1,c=0;d>=i;--d){if(n=e.charCodeAt(d),n===47){if(!f){l=d+1;break}continue}o===-1&&(f=!1,o=d+1),n===46?s===-1?s=d:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||o===-1||c===0||c===1&&s===o-1&&s===l+1?o!==-1&&(l===0&&r?t.base=t.name=e.slice(1,o):t.base=t.name=e.slice(l,o)):(l===0&&r?(t.name=e.slice(1,s),t.base=e.slice(1,o)):(t.name=e.slice(l,s),t.base=e.slice(l,o)),t.ext=e.slice(s,o)),l>0?t.dir=e.slice(0,l-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};z.posix=z;G.exports=z});var K=C((ze,_)=>{"use strict";var L=M(J()),U=M(F()),P=class{constructor(e,t){this.detail=e;this.file=t;this.detail=e,this.isDirectory()||(this.file=t,this.length=t.size)}content=null;length=0;isDirectory(){return this.detail.type=="directory"}isFile(){return this.detail.type=="file"}},D=class a{normalize=L.default;base;constructor(e=""){this.base=new URL((0,L.default)(location.origin+(e||"").replace(/\/?$/,"/")))}error=class extends Error{constructor(t){var n=["Invalid Path: /","Missing Required Argument: path","Missing Required Argument: content","Directory Already Exists","File Already Exists","File Not Found","Directory Does Not Exist","Not A Directory","Not A File","Directory Path Nonexistent"];super(n[t])}};directory=class extends a{constructor(n="",r=new a){super(n);this.parent=r}};get loading(){return caches.open("vfs").then(async e=>(await e.match(new URL(location.origin+"/"))||await e.put(new URL(location.origin+"/"),new Response(null,{headers:{"x-detail":JSON.stringify({type:"directory"})}})),e))}parent;async mkdir(e){if(!e)throw new this.error(1);e=e.replace(/\/$/,"");let t=await this.loading;var n=new URL((0,L.default)(this.base.href+e)).pathname,r="/";for await(var i of n.split("/"))i&&(r+=i,r!="/"&&r!=e&&(await this.exists(r)||await(this.parent||this).mkdir(r),r+="/"));await t.put(new URL((0,L.default)(this.base.href+e)),new Response(null,{headers:{"x-detail":JSON.stringify({type:"directory"})}}))}async openDir(e){if(!e)throw new this.error(1);e=e.replace(/\/$/,"");let n=await(await this.loading).match(new URL((0,L.default)(this.base.href+e)));if(!n)throw new this.error(6);if(JSON.parse(n.headers.get("x-detail")||"{}").type!="directory")throw new this.error(7);return e=new URL((0,L.default)(this.base.href+e)).pathname,new this.directory(e)}async writeFile(e,t,n={}){if(!e)throw new this.error(1);if(typeof t>"u")throw new this.error(2);if(e=="/")throw new this.error(0);e=e.replace(/\/$/,""),await this.exists(U.default.dirname(e))||await this.mkdir(U.default.dirname(e));let r=await this.loading,i="text/plain";Array.isArray(t)?(i="application/json",t=new Blob([JSON.stringify(t)])):t.constructor==Object?(i="application/json",t=new Blob([JSON.stringify(t)])):typeof t=="string"?(i="text/plain",t=new Blob([t])):typeof t=="number"&&(i="text/plain",t=new Blob([`${t}`])),n.type="file",await r.put(new URL((0,L.default)(this.base.href+e)),new Response(t,{headers:{"x-detail":JSON.stringify(n),"content-length":t.size.toString(),"content-type":i}}))}async readFile(e,t=null){if(!e)throw new this.error(1);e=e.replace(/\/$/,"");let n=await this.loading;if(await n.match(new URL((0,L.default)(this.base.href+e))))return await n.match(new URL((0,L.default)(this.base.href+e))).then(r=>t=="utf-8"?r.text():r.blob());throw new this.error(5)}async unlink(e){if(!e)throw new this.error(1);e=e.replace(/\/$/,""),await(await this.loading).delete(new URL((0,L.default)(this.base.href+e)))}async readdir(e){if(!e)throw new this.error(1);e=e.replace(/\/$/,"");let t=await this.loading,n=await t.match(new URL((0,L.default)(this.base.href+e)));if(!n)throw new this.error(6);if(JSON.parse(n.headers.get("x-detail")||"{}").type!="directory")throw new this.error(7);let i=await t.keys(),s=[];for(let l of i)if(l.url.startsWith(new URL((0,L.default)(this.base.href+e)).href)){let o=l.url.replace(new URL((0,L.default)(this.base.href+e)).href,"").replace(/^\//,"");if(!o||(o.split("/").length>1&&(o=o.split("/")[0]),s.includes(o)))continue;s.push(o)}return s}async exists(e){if(!e)throw new this.error(1);e=e.replace(/\/$/,"");try{return await this.stat(e),!0}catch{return!1}}async stat(e){if(!e)throw new this.error(1);e=e.replace(/\/$/,"");let n=await(await this.loading).match(new URL((0,L.default)(this.base.href+e)));if(!n)throw new this.error(5);let r=JSON.parse(n.headers.get("x-detail")||"{}");return new P(r,await n.blob())}};_.exports=D});var Z=C((Ie,Q)=>{"use strict";var Y=class{windows=[];init=async()=>{};getCloseSVG(){return`<svg style="width: 13px;height: 13px;" xmlns="http://www.w3.org/2000/svg" width="188" height="185" viewBox="0 0 188 185" fill="none">
      <rect width="188" height="185" rx="92.5" fill="#F46868"></rect>
    </svg>`}getMiniSVG(){return`<svg style="width: 13px;height: 13px;" xmlns="http://www.w3.org/2000/svg" width="188" height="185" viewBox="0 0 188 185" fill="none">
      <rect width="188" height="185" rx="92.5" fill="#ffcd5b"></rect>
    </svg>`}getFullSVG(){return`<svg style="width: 13px;height: 13px;" xmlns="http://www.w3.org/2000/svg" width="188" height="185" viewBox="0 0 188 185" fill="none">
      <rect width="188" height="185" rx="92.5" fill="rgb(64 190 64)"></rect>
    </svg>`}createWindow=(e,t,n,r=0,i=0,s=0,l=0,o=!0)=>{let f=document.createElement("div");f.classList.add("drag","box"),f.id=n,f.style.left=`${r}px`,f.style.top=`${i}px`,f.style.width=`${s}px`,f.style.height=`${l}px`;let d=document.createElement("div");d.classList.add("box-header");let c=document.createElement("div");c.classList.add("box-header-title"),c.innerText=e;let p=document.createElement("span");p.classList.add("os-mini"),p.innerHTML=this.getMiniSVG(),p.addEventListener("click",()=>{this.minimizeWindow(n)});let m=document.createElement("span");m.classList.add("os-exit"),m.innerHTML=this.getCloseSVG(),m.addEventListener("click",()=>{window.xen.apps.close(n,f)});let y=document.createElement("span");y.classList.add("os-full"),y.innerHTML=this.getFullSVG(),y.addEventListener("click",()=>{this.fullscreen(n)});let b=document.createElement("div");return b.classList.add("box-body-inner"),b.appendChild(t),d.appendChild(c),c.appendChild(p),c.appendChild(m),c.appendChild(y),f.append(d,b,...["left","top","right","bottom","topLeft","topRight","bottomRight","bottomLeft"].map(v=>{let x=document.createElement("div");return x.classList.add(v.includes("top")?"resize":"dresize",v+"Resize"),x})),f.style.display=o?"block":"none",this.resizeListener(f),document.getElementById("os-desktop")?.appendChild(f),window.xen.wm.windows.push(f),f.querySelector(".box-header-title")?.addEventListener("mousedown",v=>{let x=f.getBoundingClientRect(),E=d.getBoundingClientRect(),k=v.clientX-x.left,u=v.clientY-x.top;if(this.focus(n),document.querySelector(".os-mini")?.contains(v.target)||document.querySelector(".os-full")?.contains(v.target)||document.querySelector(".os-exit")?.contains(v.target)||f.dataset.mini==="true")return!1;document.querySelectorAll(".drag iframe").forEach(g=>{g.style.pointerEvents="none"});let h=g=>{requestAnimationFrame(()=>{let R=g.clientX-k,q=g.clientY-u;g.clientX<0&&(R=0),g.clientY<0&&(q=0),R>window.innerWidth&&(R=window.innerWidth-x.width),q>window.innerHeight&&(q=window.innerHeight-x.height),f.style.left=`${R}px`,f.style.top=`${q}px`})},w=g=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",w);let R=g.clientY-u;R+E.height>window.innerHeight&&(f.style.top=`${window.innerHeight-E.height}px`),R<0&&(f.style.top="0px"),document.querySelectorAll(".drag iframe").forEach(q=>{q.style.pointerEvents="auto"})};document.addEventListener("mousemove",h),document.addEventListener("mouseup",w)}),f};focus(e){let t=document.getElementById(e);if(!t)return;let n=Math.max(...Array.from(document.querySelectorAll(".box")).map(r=>+(r.style.zIndex||0)))||0;t.style.zIndex=`${n+1}`}resizeListener(e){var t=e.querySelector(".leftResize"),n=e.querySelector(".rightResize"),r=e.querySelector(".topResize"),i=e.querySelector(".bottomResize"),s=e.querySelector(".topLeftResize"),l=e.querySelector(".topRightResize"),o=e.querySelector(".bottomLeftResize"),f=e.querySelector(".bottomRightResize");[t,n,r,i].forEach((d,c)=>{var p=["left","right","top","bottom"][c],m,y,b,S,v,x,E,k=function(u){requestAnimationFrame(()=>{if(p=="top"){var h=parseInt(S.replace("px",""))-(u.clientY-y),w=h>70?parseInt(x.replace("px",""))+(u.clientY-y):"";if(w<0)return e.style.top="0px";e.style.height=(h>70?h:70)+"px",e.style.top=w+"px"}else if(p=="bottom"){var h=parseInt(S.replace("px",""))+(u.clientY-y);e.style.height=(h>70?h:70)+"px",e.style.top=x}else if(p=="left"){var g=parseInt(v.replace("px",""))-(u.clientX-m);e.style.width=(g>70?g:70)+"px",e.style.left=(g>70?parseInt(E.replace("px",""))+(u.clientX-m):"")+"px"}else if(p=="right"){var g=parseInt(v.replace("px",""))+(u.clientX-m);e.style.width=(g>70?g:70)+"px",e.style.left=E}})};document.addEventListener("mousedown",function(u){u.target===d&&(b=window.getComputedStyle(e),S=b.height+"",v=b.width+"",x=b.top+"",E=b.left+"",m=u.clientX,y=u.clientY,e.style.transition="0s",document.querySelectorAll(".drag iframe").forEach(function(h){h.style.pointerEvents="none"}),document.addEventListener("mousemove",k))}),document.addEventListener("mouseup",function(u){!m&&!y||(e.style.transition="",document.removeEventListener("mousemove",k),document.querySelectorAll(".drag iframe").forEach(function(h){h.style.pointerEvents="all"}))})}),[s,l,o,f].forEach((d,c)=>{var p=["topLeft","topRight","bottomLeft","bottomRight"][c],m,y,b,S,v,x,E,k=function(u){requestAnimationFrame(()=>{if(p=="topLeft"){var h=parseInt(S.replace("px",""))-(u.clientY-y),w=parseInt(v.replace("px",""))-(u.clientX-m),g=h>70?parseInt(x.replace("px",""))+(u.clientY-y):"";if(g<0)return e.style.top="0px";e.style.height=(h>70?h:70)+"px",e.style.top=g+"px",e.style.width=(w>70?w:70)+"px",e.style.left=(w>70?parseInt(E.replace("px",""))+(u.clientX-m):"")+"px"}else if(p=="topRight"){var h=parseInt(S.replace("px",""))-(u.clientY-y),w=parseInt(v.replace("px",""))+(u.clientX-m),g=h>70?parseInt(x.replace("px",""))+(u.clientY-y):"";if(g<0)return e.style.top="0px";e.style.height=(h>70?h:70)+"px",e.style.top=g+"px",e.style.width=(w>70?w:70)+"px",e.style.left=E}else if(p=="bottomLeft"){var h=parseInt(S.replace("px",""))+(u.clientY-y),w=parseInt(v.replace("px",""))-(u.clientX-m);e.style.height=(h>70?h:70)+"px",e.style.top=x,e.style.width=(w>70?w:70)+"px",e.style.left=(w>70?parseInt(E.replace("px",""))+(u.clientX-m):"")+"px"}else if(p=="bottomRight"){var h=parseInt(S.replace("px",""))+(u.clientY-y),w=parseInt(v.replace("px",""))+(u.clientX-m);e.style.height=(h>70?h:70)+"px",e.style.top=x,e.style.width=(w>70?w:70)+"px",e.style.left=E}})};document.addEventListener("mousedown",function(u){u.target===d&&(b=window.getComputedStyle(e),S=b.height+"",v=b.width+"",x=b.top+"",E=b.left+"",m=u.clientX,y=u.clientY,e.style.transition="0s",document.querySelectorAll(".drag iframe").forEach(function(h){h.style.pointerEvents="none"}),document.addEventListener("mousemove",k))}),document.addEventListener("mouseup",function(u){!m&&!y||(e.style.transition="",document.removeEventListener("mousemove",k),document.querySelectorAll(".drag iframe").forEach(function(h){h.style.pointerEvents="all"}))})})}minimizeWindow=e=>{let t=document.getElementById(e);if(!t)return!1;t.style.transform="scale(0.15)",t.style.transition="all 0.7s ease",t.dataset.mini="true",t.querySelectorAll("*").forEach(i=>{i.style.pointerEvents="none"});let n=t.getBoundingClientRect();n.top>window.innerHeight-310&&(t.style.top=window.innerHeight-310+"px"),n.top<-193&&(t.style.top="-193px"),n.left<-275&&(t.style.left="-275px"),n.left>window.innerWidth-425&&(t.style.left=window.innerWidth-425+"px"),setTimeout(()=>t.style.transition="",700);let r=i=>{if(i.which!==1)return;let s=i.clientX-i.target.offsetLeft,l=i.clientY-i.target.offsetTop;function o(d){if(t?.dataset.fullscreen==="true")return;let c=d.clientX-s,p=d.clientY-l;p<-193&&(p=-193),c<-275&&(c=-275),c>window.innerWidth-425&&(c=window.innerWidth-425),p>window.innerHeight-310&&(p=window.innerHeight-310),requestAnimationFrame(()=>{i.target.style.position="absolute",i.target.style.top=`${p}px`,i.target.style.left=`${c}px`})}let f=d=>{d.clientX===i.clientX&&d.clientY===i.clientY&&(t.style.transform="scale(1)",t.dataset.mini="false",t.style.transition="all 0.7s ease",t.querySelectorAll("*").forEach(c=>{c.style.pointerEvents="auto"}),parseInt(t.style.top.replace("px",""))<0&&(t.style.top="0"),setTimeout(()=>t.style.transition="",700),t.removeEventListener("mousedown",r)),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",f)};document.addEventListener("mouseup",f),document.addEventListener("mousemove",o)};t.addEventListener("mousedown",r)};unminimize=async e=>{let t=document.getElementById(e);return t?(t.style.transform="scale(1)",t.dataset.mini="false",t.style.transition="all 0.7s ease",t.querySelectorAll("*").forEach(n=>{n.style.pointerEvents="auto"}),parseInt(t.style.top.replace("px",""))<0&&(t.style.top="0"),await new Promise(n=>setTimeout(n,700)),t.style.transition="",t.removeEventListeners("mousedown"),!0):!1};fullscreen=async e=>{let t=document.getElementById(e);return t?(t.dataset.mini==="true"&&await this.unminimize(e),t.style.transition="all 0.15s ease",t.dataset.fullscreen==="true"?(requestAnimationFrame(async()=>{t.style.width=t.dataset.prevWidth||"",t.style.height=t.dataset.prevHeight||"",t.style.top=t.dataset.prevTop||"",t.style.left=t.dataset.prevLeft||"",t.dataset.fullscreen="false",await new Promise(n=>setTimeout(n,150)),t.style.transition=""}),window.xen.taskbar.show()):(requestAnimationFrame(async()=>{t.dataset.prevWidth=t.style.width,t.dataset.prevHeight=t.style.height,t.style.width="100vw",t.style.height="100vh",t.dataset.prevTop=t.style.top,t.dataset.prevLeft=t.style.left,t.style.top="0",t.style.left="0",window.xen.taskbar.hide(),t.dataset.fullscreen="true",await new Promise(n=>setTimeout(n,150)),t.style.transition=""}),!0)):!1}};Q.exports=Y});var te=C((Te,ee)=>{"use strict";var{join:ve}=F(),H=class{load(e){return import(ve("/xen/web/",e)).then(t=>t.default.init())}async init(...e){for(let t of e)await this.load(t);return!0}};ee.exports=H});var ne=C(($,j)=>{(function(a,e){typeof $=="object"&&typeof j<"u"?j.exports=e():typeof define=="function"&&define.amd?define(e):(a=typeof globalThis<"u"?globalThis:a||self,function(){var t=a.Cookies,n=a.Cookies=e();n.noConflict=function(){return a.Cookies=t,n}}())})($,function(){"use strict";function a(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var l in s)r[l]=s[l]}return r}var e={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function t(r,i){function s(o,f,d){if(!(typeof document>"u")){d=a({},i,d),typeof d.expires=="number"&&(d.expires=new Date(Date.now()+d.expires*864e5)),d.expires&&(d.expires=d.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var p in d)d[p]&&(c+="; "+p,d[p]!==!0&&(c+="="+d[p].split(";")[0]));return document.cookie=o+"="+r.write(f,o)+c}}function l(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var f=document.cookie?document.cookie.split("; "):[],d={},c=0;c<f.length;c++){var p=f[c].split("="),m=p.slice(1).join("=");try{var y=decodeURIComponent(p[0]);if(d[y]=r.read(m,y),o===y)break}catch{}}return o?d[o]:d}}return Object.create({set:s,get:l,remove:function(o,f){s(o,"",a({},f,{expires:-1}))},withAttributes:function(o){return t(this.converter,a({},this.attributes,o))},withConverter:function(o){return t(a({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(r)}})}var n=t(e,{path:"/"});return n})});var re=C((Fe,xe)=>{xe.exports={bare:"https://tomp.app/"}});var oe=C((Xe,se)=>{"use strict";var be=K(),Le=Z(),Ee=te(),ie=ne(),Se=re();window.path=F();var O=class{fs=new be;wm=new Le;loader=new Ee;config=Se;taskbar;battery;apps;async startup(){await this.fs.loading,ie.get("fs-initiated")!=="true"&&(await this.stupFileSystem(),ie.set("fs-initiated","true",{expires:new Date(Date.now()+1e3*60*60*24*365*10),secure:!0,sameSite:"strict"})),await this.wm.init(),await new Promise(e=>setTimeout(e,150)),window.EventTarget.prototype.addEventListener=new Proxy(window.EventTarget.prototype.addEventListener,{apply:(e,t,n)=>(t.eventListeners||(t.eventListeners=[]),t.eventListeners.push({type:n[0],listener:n[1],options:n[2]||{}}),Reflect.apply(e,t,n))}),window.EventTarget.prototype.removeEventListeners=function(e){if(this.eventListeners)for(let t of this.eventListeners.filter(([n,r,i])=>n===e))this.removeEventListener(t.type,t.listener,t.options)},await this.loader.init("components/apps.js","components/taskbar.js","components/battery.js","components/cursor.js","components/context.js")}async stupFileSystem(){let e=this.fs;return await e.mkdir("/xen"),await e.mkdir("/xen/system"),await e.mkdir("/xen/users"),await e.mkdir("/xen/users/guest"),await e.mkdir("/xen/users/guest/desktop"),await e.mkdir("/xen/users/guest/documents"),await e.mkdir("/xen/users/guest/downloads"),await e.mkdir("/xen/users/guest/music"),await e.mkdir("/xen/users/guest/pictures"),await e.mkdir("/xen/users/guest/videos"),await e.mkdir("/xen/system/taskbar"),await e.writeFile("/xen/system/taskbar/pinned.json",[{name:"Welcome",id:"Xen/welcome"},{name:"Settings",id:"Xen/settings"},{name:"Velocity",id:"Xen/velocity"},{name:"App Store",id:"Xen/store"},{name:"Terminal",id:"Xen/terminal"}]),await e.mkdir("/xen/system/apps"),await e.writeFile("/xen/system/apps/installed.json",[]),await e.mkdir("/xen/system/assets"),await e.writeFile("/xen/system/assets/inject.bundle.js",await(await fetch("/xen/web/inject.bundle.js")).text()),!0}hideLoader(){let e=document.getElementById("os-pre");e&&(e.animate([{opacity:1},{opacity:0}],{duration:500,easing:"ease-in-out"}),setTimeout(()=>{e.style.display="none"},500))}};se.exports=O});var Ae=oe();window.xen=new Ae;window.xen.startup().then(()=>{console.log("%cWelcome to XenOS","color:black; background-color:white; padding:5px; border-radius: 5px; line-height: 26px; font-size:30px;"),window.xen.hideLoader()});
/*! Bundled license information:

js-cookie/dist/js.cookie.js:
  (*! js-cookie v3.0.5 | MIT *)
*/
